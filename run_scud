#!/bin/bash
#SBATCH --job-name=dkb_conv
#SBATCH -t 3-00:00:00
#SBATCH -p max_120_hours
#SBATCH -n 24
#SBATCH -w scud

hostname
echo $(date -u)
branch=$(git rev-parse --abbrev-ref HEAD)
echo "Current branch is: \"$branch\""
export OMP_NUM_THREADS=$SLURM_TASKS_PER_NODE

# Parameters
n=12
r_min=11
r_max=30
r_step=1

# Loop over r values
r=$r_min
while (( $(echo "$r <= $r_max" | bc -l) )); do
    echo "Running with R=$r"
    python3 run_experiment.py with n=$n R=$r
    r=$(echo "$r + $r_step" | bc -l)
done

